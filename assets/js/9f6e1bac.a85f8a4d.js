"use strict";(self.webpackChunkWebaverse=self.webpackChunkWebaverse||[]).push([[8182],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),p=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(d.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),s=p(n),k=r,c=s["".concat(d,".").concat(k)]||s[k]||u[k]||l;return n?a.createElement(c,i(i({ref:t},m),{},{components:n})):a.createElement(c,i({ref:t},m))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=s;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},4084:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>d,default:()=>k,frontMatter:()=>o,metadata:()=>p,toc:()=>u});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={id:"runtime-api",title:"Runtime API"},d=void 0,p={unversionedId:"developer/runtime-api",id:"developer/runtime-api",title:"Runtime API",description:"The Runtime API exposes everything you could possibly want to access within the Webaverse runtime. This includes access to crypto minting, the world scene, camera, physics, and more.",source:"@site/docs/developer/runtime-api.md",sourceDirName:"developer",slug:"/developer/runtime-api",permalink:"/developer/runtime-api",draft:!1,tags:[],version:"current",frontMatter:{id:"runtime-api",title:"Runtime API"},sidebar:"tutorialSidebar",previous:{title:"Preview Flow",permalink:"/developer/preview-flow"},next:{title:"Transfer Flow",permalink:"/developer/transfer-flow"}},m={},u=[{value:"<code>renderer</code>",id:"renderer",level:2},{value:"<code>camera</code>",id:"camera",level:2},{value:"<code>crypto</code>",id:"crypto",level:2},{value:"<code>mintToken</code>",id:"minttoken",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"<code>physics</code>",id:"physics",level:2},{value:"<code>addGeometry</code>",id:"addgeometry",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"<code>removeGeometry</code>",id:"removegeometry",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"<code>getRigTransforms</code>",id:"getrigtransforms",level:3},{value:"Returns",id:"returns-1",level:4},{value:"<code>app</code>",id:"app",level:2},{value:"<code>object.add</code>",id:"objectadd",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"<code>files[]</code>",id:"files",level:3},{value:"<code>unload</code>",id:"unload",level:3},{value:"<code>onBeforeRender()</code>",id:"onbeforerender",level:3},{value:"<code>onAfterRender()</code>",id:"onafterrender",level:3},{value:"<code>runtime</code>",id:"runtime",level:2},{value:"<code>loadFile</code>",id:"loadfile",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"<code>world</code>",id:"world",level:2},{value:"<code>object</code>",id:"object",level:3},{value:"<code>addObject</code>",id:"addobject",level:3},{value:"Parameters",id:"parameters-5",level:4}],s={toc:u};function k(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The Runtime API exposes everything you could possibly want to access within the Webaverse runtime. This includes access to crypto minting, the world scene, camera, physics, and more."),(0,l.kt)("p",null,"You can call these directly within your app without any extra requirements on your end. This is because the Runtime API is exposed to your code at runtime."),(0,l.kt)("h2",{id:"renderer"},(0,l.kt)("inlineCode",{parentName:"h2"},"renderer")),(0,l.kt)("p",null,"This provides a THREE.js renderer at runtime that can be used to ",(0,l.kt)("inlineCode",{parentName:"p"},"setAnimationLoop")," on."),(0,l.kt)("h2",{id:"camera"},(0,l.kt)("inlineCode",{parentName:"h2"},"camera")),(0,l.kt)("p",null,"This provides a THREE.js camera at runtime."),(0,l.kt)("h2",{id:"crypto"},(0,l.kt)("inlineCode",{parentName:"h2"},"crypto")),(0,l.kt)("h3",{id:"minttoken"},(0,l.kt)("inlineCode",{parentName:"h3"},"mintToken")),(0,l.kt)("h4",{id:"parameters"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"file")),(0,l.kt)("td",{parentName:"tr",align:null},"blob"),(0,l.kt)("td",{parentName:"tr",align:null},"The data of the file to be tokenized")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"options")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"You can define the ",(0,l.kt)("inlineCode",{parentName:"td"},"description")," of the token here")))),(0,l.kt)("h4",{id:"returns"},"Returns"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tokenId")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"The id of the newly minted token")))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"physics"},(0,l.kt)("inlineCode",{parentName:"h2"},"physics")),(0,l.kt)("h3",{id:"addgeometry"},(0,l.kt)("inlineCode",{parentName:"h3"},"addGeometry")),(0,l.kt)("h4",{id:"parameters-1"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"mesh")),(0,l.kt)("td",{parentName:"tr",align:null},"mesh")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"removegeometry"},(0,l.kt)("inlineCode",{parentName:"h3"},"removeGeometry")),(0,l.kt)("h4",{id:"parameters-2"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"physicsId")),(0,l.kt)("td",{parentName:"tr",align:null},"number")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"getrigtransforms"},(0,l.kt)("inlineCode",{parentName:"h3"},"getRigTransforms")),(0,l.kt)("h4",{id:"returns-1"},"Returns"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"[\n  {\n    position: this.localRig.inputs.leftGamepad.position,\n    quaternion: this.localRig.inputs.leftGamepad.quaternion,\n  },\n  {\n    position: this.localRig.inputs.rightGamepad.position,\n    quaternion: this.localRig.inputs.rightGamepad.quaternion,\n  },\n];\n")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"app"},(0,l.kt)("inlineCode",{parentName:"h2"},"app")),(0,l.kt)("h3",{id:"objectadd"},(0,l.kt)("inlineCode",{parentName:"h3"},"object.add")),(0,l.kt)("h4",{id:"parameters-3"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"mesh")),(0,l.kt)("td",{parentName:"tr",align:null},"mesh")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"files"},(0,l.kt)("inlineCode",{parentName:"h3"},"files[]")),(0,l.kt)("p",null,"This is a map of relative file URL -> file load URL you can ",(0,l.kt)("inlineCode",{parentName:"p"},"fetch"),"."),(0,l.kt)("p",null,"No matter how you are loading the package, whether it is an XRPK or a URL or an NFT, this map should let you access all of the app's files."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," Files in this map are prefixed with ",(0,l.kt)("inlineCode",{parentName:"p"},"./")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"unload"},(0,l.kt)("inlineCode",{parentName:"h3"},"unload")),(0,l.kt)("p",null,"This is an event that gets emitted when the app instance is deleted. You should clean up anything you app is doing here, such as removing physics, objects, timers, etc."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," The ",(0,l.kt)("inlineCode",{parentName:"p"},"app.object")," will be automatically removed from the scene so there is no need to clean up that."),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"onbeforerender"},(0,l.kt)("inlineCode",{parentName:"h3"},"onBeforeRender()")),(0,l.kt)("p",null,"This is a function to run alongside anything you want to run before rendering."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," If you do mirror rendering, it should occur between ",(0,l.kt)("inlineCode",{parentName:"p"},"onBeforeRender")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"onAfterRender")," to ensure proper recursion."),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"onafterrender"},(0,l.kt)("inlineCode",{parentName:"h3"},"onAfterRender()")),(0,l.kt)("p",null,"This is a function to run alongisde anyhting you want to run after rendering."),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"runtime"},(0,l.kt)("inlineCode",{parentName:"h2"},"runtime")),(0,l.kt)("h3",{id:"loadfile"},(0,l.kt)("inlineCode",{parentName:"h3"},"loadFile")),(0,l.kt)("h4",{id:"parameters-4"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"file")),(0,l.kt)("td",{parentName:"tr",align:null},"file")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"opts")),(0,l.kt)("td",{parentName:"tr",align:null},"object")))),(0,l.kt)("h2",{id:"world"},(0,l.kt)("inlineCode",{parentName:"h2"},"world")),(0,l.kt)("h3",{id:"object"},(0,l.kt)("inlineCode",{parentName:"h3"},"object")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"app.object")," is a THREE.js  object where you should attach your app (using ",(0,l.kt)("inlineCode",{parentName:"p"},"app.object.add"),", see below), this should be used instead of a ",(0,l.kt)("inlineCode",{parentName:"p"},"scene.")),(0,l.kt)("h3",{id:"addobject"},(0,l.kt)("inlineCode",{parentName:"h3"},"addObject")),(0,l.kt)("h4",{id:"parameters-5"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"contentId")),(0,l.kt)("td",{parentName:"tr",align:null},"number ",(0,l.kt)("em",{parentName:"td"},"or")," URL")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"parentId")),(0,l.kt)("td",{parentName:"tr",align:null},"number")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"position")),(0,l.kt)("td",{parentName:"tr",align:null},"THREE.Vector3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"quaternion")),(0,l.kt)("td",{parentName:"tr",align:null},"THREE.Quaternion")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"options")),(0,l.kt)("td",{parentName:"tr",align:null},"object")))))}k.isMDXComponent=!0}}]);